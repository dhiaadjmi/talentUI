<div class="container">
  <div class="firstRow">
    <div>
      <img
        class="UserAvatar"
        [src]="item.user.avatar"
        alt=""
      />
      <a href="javascript:void(0)" (click)="goToUser(item.user)"
        ><span class="UserName">{{ item.user.userName }}</span></a
      >
    </div>

    <span class="DATE">{{ item.createdAt }}</span>

    <img style="cursor: pointer;" (click)="deletePost()" *ngIf="user && user._id === item.user._id  " src="../../../../assets//img/delete-button.svg" width="30px" alt="" />
    <img style="cursor: pointer;" (click)="reportPost()" *ngIf="user && user._id !== item.user._id  " src="../../../../assets//img/report-button.svg" width="30px" alt="" />
  </div>
  <hr />
  <div class="secondRow">
    <div class="caption">
      {{ item.desc }}
    </div>
    <div class="videoContainer">
      <video
        id="{{ 'videoPlayer' + item._id }}"
        style="border-radius: 10px"
        width="100%"
        height="300"
        controls
      >
        <source src="http://localhost:8081//{{ item.video }}" />
      </video>
    </div>
  </div>
  <hr />
  <div class="thirdRow">
    <span class="VUES">{{ item.views }} Vues</span>
    <span>{{ comments.length }} Évaluations</span>
  </div>
  <hr *ngIf="showedComments.length > 0" />
  <div class="fourthRow" *ngIf="showedComments.length > 0">
    <app-comment
      [comment]="item"
      *ngFor="let item of showedComments"
    ></app-comment>
    <span
      class="CLICKABLE"
      (click)="showMore()"
      *ngIf="!extanded && comments.length > 1"
      >Afficher plus ...</span
    >
    <span
      class="CLICKABLE"
      (click)="showLess()"
      *ngIf="extanded && comments.length > 1"
      >Afficher moins ...</span
    >
  </div>
  <hr />
  <div class="fifthRow" *ngIf="user">
    <button (click)="addComment(item)" class="btn btn-primary AddCommentBtn">
      Évaluer La Publication 
    </button>
  </div>
</div>
